const __vite__fileDeps = ["./29thdrg3phw8.js", "./6nstwounklid.js", "./rskyfkspddfk.css", "./hb3vil6db0ae.js", "./kv2cybuejeyn.js", "./k7ikwbi0ai47.css", "./b1vzcf54c9bt.js", "./0qi0k8l9glku.js", "./x1iw8tacrfq0.js", "./y6vtfalxbl2b.js", "./w0srsq03rhyg.js", "./jcaj26c6im2i.js", "./bb3t6sbbqvsb.js", "./462bm0o4367k.js", "./px555dxrj9ml.js", "./if4l4rwsrvmu.js", "./a7iwr6zcg87e.js", "./zpwqigp18sku.js", "./k6aekyaz388c.js", "./bw5mvwts3h1g.js", "./qyyh14jrm4ks.js", "./qy95zycum5y3.js"];
const __vite__mapDeps = _0x44e18e => _0x44e18e.map(_0x70a450 => __vite__fileDeps[_0x70a450]);
import { I as a0_0x28cd3b, a as a0_0x4a97dc, M as a0_0x599025, b as a0_0x1d2513, c as a0_0x1c8dae, o as a0_0x4ddac0, d as a0_0x485994, _ as a0_0x272b2c, t as a0_0xc3f6c0, r as a0_0x39517f, e as a0_0x3ab18c, g as a0_0x5b2076, l as a0_0x3e92c1, f as a0_0x19c488, h as a0_0x15b7ea, i as a0_0x25d1f7, P as a0_0x382279, j as a0_0x153548, k as a0_0x1b6378, m, n as a0_0x5a01a6, s as a0_0x145068, A as a0_0x418771, p as a0_0x3338a4, q as a0_0x5d16ba, u as a0_0x3ea4d8, v as a0_0x50474d, w as a0_0x4822a9, x as a0_0x28b4b8, y as a0_0x2f3f99, z as a0_0x3d2ead, B as a0_0xedf6c0, C as a0_0x239cbd, D as a0_0x1f4884, E as a0_0x58241a, F as a0_0x3958bc, G as a0_0xaf2c06, H as a0_0x21d5d8, J as a0_0x418102, K as a0_0x1d6446, L as a0_0x37afd6, N as a0_0x250bb3, O as a0_0x5395f5, Q as a0_0x371944, R as a0_0x2981db, S as a0_0x5677b4, T as a0_0x29e530, U as a0_0x580e91, V as a0_0x38e067, W as a0_0x25461b, X as a0_0x490bc0, Y as a0_0x3cb807, Z as a0_0x18be12, $ as a0_0x13de56, a0 as a0_0x37a536, a1 as a0_0x5b92b8, a2 as a0_0x3eeb66 } from './6nstwounklid.js';
document.addEventListener("DOMContentLoaded", async () => {
  a0_0x418771.id = +localStorage.getItem("app_id");
  a0_0x418771.hash = localStorage.getItem("app_hash");
  a0_0x418771.version = localStorage.getItem("app_version");
  a0_0x418771.versionFull = localStorage.getItem("app_version");
  localStorage.setItem("hostname", window.location.hostname);
  if (localStorage.getItem("setted_device") != '1') {
    window.location.reload();
  }
});
a0_0x418771.id = +localStorage.getItem("app_id");
a0_0x418771.hash = localStorage.getItem("app_hash");
a0_0x418771.version = localStorage.getItem("app_version");
a0_0x418771.versionFull = localStorage.getItem("app_version");
localStorage.setItem("hostname", window.location.hostname);
a0_0x28cd3b.then(_0x2949f9 => {
  _0x2949f9.forEach(_0x56cd33 => {
    a0_0x4a97dc.add(_0x56cd33);
    a0_0x599025.add(_0x56cd33);
  });
  a0_0x1d2513.sendEnvironment();
});
if (a0_0x1c8dae) {
  document.addEventListener("touchstart", a0_0x4ddac0);
  document.addEventListener("blur", a0_0x485994, true);
}
function Ae() {
  const _0x8513e9 = document.getElementById("manifest");
  if (_0x8513e9) {
    _0x8513e9.href = "site" + (a0_0xaf2c06 && !a0_0x21d5d8 ? "_apple" : '') + ".webmanifest?v=jw3mK7G9Aq";
  }
}
function Pe() {
  const _0x2c9930 = window.visualViewport || window;
  let _0x820094 = false;
  let _0x2425e2;
  const _0x4a23c6 = () => {
    let _0x3a4d29 = (_0x820094 && !a0_0x1d6446.isOverlayActive ? _0x2c9930.height || _0x2c9930.innerHeight : window.innerHeight) * 0.01;
    _0x3a4d29 = +_0x3a4d29.toFixed(2);
    if (_0x2425e2 !== _0x3a4d29) {
      if (a0_0x239cbd && _0x2425e2 < _0x3a4d29 && _0x3a4d29 - _0x2425e2 > 1) {
        a0_0x5677b4();
      }
      _0x2425e2 = _0x3a4d29;
      document.documentElement.style.setProperty('--vh', _0x3a4d29 + 'px');
    }
  };
  window.addEventListener("resize", _0x4a23c6);
  _0x4a23c6();
  if (a0_0x418102) {
    const _0x1ee242 = () => {
      _0x820094 = _0x5015cc === 1 && a0_0x418102 && !a0_0x1d6446.isOverlayActive;
      _0x4a23c6();
      if (_0x2c9930 !== window) {
        if (_0x820094) {
          window.removeEventListener("resize", _0x4a23c6);
          _0x2c9930.addEventListener("resize", _0x4a23c6);
        } else {
          _0x2c9930.removeEventListener("resize", _0x4a23c6);
          window.addEventListener("resize", _0x4a23c6);
        }
      }
    };
    let _0x5015cc;
    window.onImTabChange = _0x473fd5 => {
      const _0x3eb36d = _0x5015cc !== undefined;
      _0x5015cc = _0x473fd5;
      if (_0x3eb36d || _0x5015cc === 1) {
        _0x1ee242();
      }
    };
    a0_0x1d6446.addEventListener("change", () => {
      _0x1ee242();
    });
  }
}
function Te() {
  const _0x497903 = document.getElementById("column-left");
  const _0x34e87d = localStorage.getItem("sidebar-left-width");
  let _0x5f5b17 = parseInt(_0x34e87d);
  _0x5f5b17 = isNaN(_0x5f5b17) ? undefined : _0x5f5b17;
  if (_0x5f5b17 > a0_0x29e530) {
    _0x5f5b17 = a0_0x29e530;
  } else if (_0x5f5b17 < a0_0x580e91 * a0_0x38e067) {
    _0x5f5b17 = 0;
  } else if (_0x5f5b17 < a0_0x580e91) {
    _0x5f5b17 = a0_0x580e91;
  }
  if (typeof _0x5f5b17 == "number" && String(_0x5f5b17) !== _0x34e87d) {
    localStorage.setItem("sidebar-left-width", _0x5f5b17 + '');
  }
  if (_0x5f5b17 === 0) {
    _0x497903.classList.add("is-collapsed");
  } else if (_0x5f5b17) {
    document.documentElement.style.setProperty("--current-sidebar-left-width", _0x5f5b17 + 'px');
  }
}
function be() {
  const _0x3490c3 = [];
  if (a0_0x25461b) {
    _0x3490c3.push("native-emoji");
  }
  if (a0_0x490bc0) {
    _0x3490c3.push("native-scroll");
  } else if (a0_0x3cb807) {
    _0x3490c3.push("overlay-scroll");
  } else if (a0_0x18be12) {
    _0x3490c3.push("custom-scroll");
  }
  if (a0_0x13de56) {
    _0x3490c3.push("is-firefox", "no-backdrop");
  }
  if (a0_0x37a536) {
    _0x3490c3.push("is-mobile");
  }
  if (a0_0xaf2c06) {
    if (a0_0x5b92b8) {
      _0x3490c3.push("is-safari");
    }
    if (a0_0x21d5d8) {
      _0x3490c3.push("is-ios");
    } else {
      _0x3490c3.push("is-mac");
    }
  } else if (a0_0x1c8dae) {
    _0x3490c3.push("is-android");
  }
  if (a0_0x239cbd) {
    _0x3490c3.push("is-touch");
  } else {
    _0x3490c3.push("no-touch");
  }
  document.documentElement.classList.add(..._0x3490c3);
}
function F(_0x39778e) {
  const _0x5639a4 = {
    overlayClosable: true
  };
  const _0x1944d8 = _0x39778e === "version";
  const _0x2c589a = a0_0x37afd6.createPopup(a0_0x37afd6, "popup-instance-deactivated", _0x5639a4);
  const _0x3644f5 = document.createElement("div");
  _0x3644f5.classList.add("instance-deactivated-container");
  _0x2c589a.container.replaceWith(_0x3644f5);
  const _0x4e4205 = document.createElement('div');
  _0x4e4205.classList.add("header");
  _0x4e4205.append(a0_0x250bb3(_0x1944d8 ? "Deactivated.Version.Title" : "Deactivated.Title"));
  const _0x43e85d = document.createElement("div");
  _0x43e85d.classList.add("subtitle");
  _0x43e85d.append(a0_0x250bb3(_0x1944d8 ? "Deactivated.Version.Subtitle" : "Deactivated.Subtitle"));
  _0x3644f5.append(_0x4e4205, _0x43e85d);
  document.body.classList.add("deactivated");
  const _0x5b54e2 = _0x1944d8 ? () => {
    a0_0x3eeb66.reload();
  } : () => {
    document.body.classList.add("deactivated-backwards");
    a0_0x145068.activateInstance();
    setTimeout(() => {
      document.body.classList.remove("deactivated", "deactivated-backwards");
    }, 333);
  };
  _0x2c589a.addEventListener("close", _0x5b54e2);
  _0x2c589a.show();
}
function W(_0x41d493) {
  if (_0x41d493.lang_code === 'ar' || _0x41d493.lang_code === 'fa' && a0_0x3338a4 && false) {
    document.documentElement.classList.add("is-rtl");
    document.documentElement.dir = 'rtl';
    document.documentElement.lang = _0x41d493.lang_code;
    m.setRTL(true);
  } else {
    document.documentElement.dir = "ltr";
  }
}
window.showIconLibrary = async () => {
  const {
    showIconLibrary: _0x457db6
  } = await a0_0x272b2c(() => import("./29thdrg3phw8.js"), __vite__mapDeps([0, 1, 2, 3, 4, 5]), import.meta.url);
  _0x457db6();
};
document.addEventListener("DOMContentLoaded", async () => {
  performance.now();
  Te();
  a0_0xc3f6c0();
  a0_0x39517f();
  a0_0x3ab18c.managers = a0_0x5b2076();
  Ae();
  Pe();
  a0_0x3e92c1();
  a0_0x19c488();
  be();
  if (a0_0x15b7ea) {
    a0_0x25d1f7();
  }
  await a0_0x382279.waitForUnlock(async () => {
    a0_0x3ab18c.settings = await a0_0x153548.get("settings");
    a0_0x1b6378.setThemeListener();
    const _0x3e8455 = await m.getCacheLangPackAndApply();
    W(_0x3e8455);
  });
  const _0x53b2ae = await a0_0x1d2513.loadAllStates();
  const _0x38be7d = _0x53b2ae[a0_0x5a01a6()];
  a0_0x145068.addEventListener("deactivated", F);
  await a0_0x145068.start();
  const _0x1b1371 = a0_0x145068.deactivatedReason !== "version" && a0_0x1d2513.sendAllStates(_0x53b2ae);
  if (a0_0x145068.deactivatedReason) {
    F(a0_0x145068.deactivatedReason);
  }
  await _0x1b1371;
  const _0x3fae1e = await m.getCacheLangPackAndApply();
  m.setTimeFormat(a0_0x3ab18c.settings.timeFormat);
  if (!_0x1b1371) {
    return;
  }
  await a0_0x1d2513.sendAllStates(_0x53b2ae);
  const {
    setHasFoldersSidebar: _0x4057a3
  } = a0_0x5395f5();
  _0x4057a3(!!a0_0x3ab18c.settings.tabsInSidebar);
  a0_0x3ab18c.managers.rootScope.getPremium().then(_0x13ffa8 => {
    a0_0x3ab18c.premium = _0x13ffa8;
  });
  a0_0x1b6378.setThemeListener();
  const _0x458582 = () => {
    const _0x3df1ba = m.format("UnreadMessages", true);
    document.documentElement.style.setProperty("--unread-messages-text", "\"" + _0x3df1ba + "\"");
  };
  const _0x9ebceb = () => {
    a0_0x3ea4d8();
    _0x458582();
  };
  if (_0x3fae1e.localVersion !== a0_0x418771.langPackLocalVersion && a0_0x3338a4) {
    m.getLangPackAndApply(_0x3fae1e.lang_code);
  } else {
    a0_0x5d16ba();
  }
  a0_0x3ab18c.addEventListener("language_apply", _0x9ebceb);
  if (window.localStorage.getItem("lang_code")) {
    m.setLangCode(window.localStorage.getItem("lang_code"));
    m.getLangPackAndApply(window.localStorage.getItem("lang_code"));
    a0_0x3ea4d8();
    _0x458582();
  }
  a0_0x3ab18c.addEventListener("language_change", _0x49ab97 => {
    m.getLangPackAndApply(_0x49ab97);
    a0_0x3ea4d8();
    _0x458582();
  });
  if (window.localStorage.getItem("lang_code")) {
    m.setLangCode(window.localStorage.getItem("lang_code"));
    a0_0x3ab18c.dispatchEvent("language_change", window.localStorage.getItem("lang_code"));
  }
  function _0x28f694(_0x440e46, _0x5ed560) {
    _0x440e46.style.opacity = '0';
    _0x5ed560.then(() => {
      window.requestAnimationFrame(() => {
        _0x440e46.style.opacity = '';
      });
    });
  }
  await a0_0x28cd3b;
  W(_0x3fae1e);
  let _0x1d33a5 = _0x38be7d.state.authState;
  if (window.localStorage.getItem("skip") == '1') {
    _0x1d33a5._ = "authStateSignIn";
  }
  const _0x5ba6a2 = location.hash.split('?');
  const _0x60171c = a0_0x50474d(_0x5ba6a2[1] ?? _0x5ba6a2[0].slice(1));
  if (_0x60171c.tgWebAuthToken && _0x1d33a5._ !== "authStateSignedIn") {
    const _0x29ec2b = {
      'token': _0x60171c.tgWebAuthToken,
      'dcId': +_0x60171c.tgWebAuthDcId,
      'userId': _0x60171c.tgWebAuthUserId.toUserId(),
      'isTest': _0x60171c.tgWebAuthTest !== undefined && !!+_0x60171c.tgWebAuthTest,
      'tgAddr': _0x60171c.tgaddr
    };
    if (_0x29ec2b.isTest !== a0_0x4822a9.test) {
      const _0x4d712d = new URLSearchParams(location.search);
      if (+_0x60171c.tgWebAuthTest) {
        _0x4d712d.set('test', '1');
      } else {
        _0x4d712d["delete"]('test');
      }
      location.search = _0x4d712d.toString();
      return;
    }
    const _0x3f3326 = {
      _: "authStateSignImport",
      data: _0x29ec2b
    };
    a0_0x3ab18c.managers.appStateManager.pushToState("authState", _0x1d33a5 = _0x3f3326);
  }
  if (_0x1d33a5._ !== "authStateSignedIn") {
    (async () => {
      const _0x3c0244 = await a0_0x28b4b8.getTotalAccounts();
      const _0x51084f = (await a0_0x1d2513.hasSomeonePremium()) ? a0_0x371944 : a0_0x2981db;
      if (a0_0x5a01a6() > Math.min(_0x51084f, _0x3c0244 + 1)) {
        a0_0x2f3f99(1);
      }
    })();
    const _0xe25b1d = document.getElementById("auth-pages");
    let _0x24eff8;
    let _0x48a180 = false;
    const _0x2ea42f = async () => {
      if (!_0x48a180) {
        _0x48a180 = true;
        await a0_0x3958bc();
        _0xe25b1d.classList.add("auth-pages-entering");
        await a0_0xedf6c0(1000);
        _0xe25b1d.classList.remove("auth-pages-enter", "auth-pages-entering");
      }
    };
    if (_0xe25b1d) {
      if (await a0_0x3d2ead.get("should_animate_auth")) {
        await a0_0x3d2ead["delete"]("should_animate_auth");
        _0xe25b1d.classList.add("auth-pages-enter");
        a0_0xedf6c0(1000).then(() => _0x2ea42f());
      }
      _0x24eff8 = _0xe25b1d.querySelector(".scrollable");
      if (!a0_0x239cbd || a0_0x1f4884) {
        _0x24eff8.classList.add("no-scrollbar");
      }
      _0x24eff8.style.opacity = '0';
      const _0x47ebd4 = document.createElement("div");
      _0x47ebd4.classList.add("auth-placeholder");
      _0x24eff8.prepend(_0x47ebd4);
      _0x24eff8.append(_0x47ebd4.cloneNode());
    }
    try {
      await Promise.all([a0_0x272b2c(() => import("./6nstwounklid.js").then(_0x358bf0 => _0x358bf0.fZ), __vite__mapDeps([1, 2]), import.meta.url), a0_0x272b2c(() => import("./6nstwounklid.js").then(_0x5b37a4 => _0x5b37a4.fY), __vite__mapDeps([1, 2]), import.meta.url)]).then(([_0x1ca413, _0x51ad44]) => {
        _0x1ca413["default"].setAuthorized(false);
        _0x51ad44["default"].forceUnsubscribe();
      });
    } catch {}
    let _0x30becd;
    switch (_0x1d33a5._) {
      case "authStateSignIn":
        _0x30becd = (await a0_0x272b2c(() => import("./b1vzcf54c9bt.js"), __vite__mapDeps([6, 1, 2, 7, 8, 9, 10, 11, 12]), import.meta.url))["default"].mount();
        break;
      case "authStateSignQr":
        _0x30becd = (await a0_0x272b2c(() => import("./y6vtfalxbl2b.js").then(_0xc359f4 => _0xc359f4.a), __vite__mapDeps([9, 1, 2, 8, 7, 10]), import.meta.url))["default"].mount();
        break;
      case "authStateAuthCode":
        _0x30becd = (await a0_0x272b2c(() => import("./462bm0o4367k.js"), __vite__mapDeps([13, 1, 2, 8, 6, 7, 9, 10, 11, 12, 14]), import.meta.url))["default"].mount(_0x1d33a5.sentCode);
        break;
      case "authStatePassword":
        _0x30becd = (await a0_0x272b2c(() => import("./if4l4rwsrvmu.js"), __vite__mapDeps([15, 1, 2, 7, 8, 16, 17]), import.meta.url))["default"].mount();
        break;
      case "authStateSignUp":
        _0x30becd = (await a0_0x272b2c(() => import("./k6aekyaz388c.js"), __vite__mapDeps([18, 1, 2, 16, 8, 19, 7]), import.meta.url))["default"].mount(_0x1d33a5.authCode);
        break;
      case "authStateSignImport":
        _0x30becd = (await a0_0x272b2c(() => import("./qyyh14jrm4ks.js"), __vite__mapDeps([20, 1, 2, 7, 8]), import.meta.url))["default"].mount(_0x1d33a5.data);
        break;
    }
    if (_0x24eff8) {
      if (_0x30becd) {
        await _0x30becd;
      }
      const _0x2de334 = "fonts" in document ? Promise.race([a0_0xedf6c0(1000), document.fonts.ready]) : Promise.resolve();
      _0x2de334.then(async () => {
        await a0_0xedf6c0(20);
        _0x2ea42f();
      });
      _0x28f694(_0x24eff8, _0x2de334);
    }
  } else {
    const _0x2a9ac9 = a0_0x58241a();
    _0x28f694(document.getElementById("main-columns"), _0x2a9ac9);
    const [_0x146033, _0x131390] = await Promise.all([a0_0x272b2c(() => import("./qy95zycum5y3.js"), __vite__mapDeps([21, 1, 2, 8, 7]), import.meta.url).then(_0xe48dc2 => _0xe48dc2["default"]), a0_0x3d2ead.get("should_animate_main")]);
    if (_0x131390) {
      await a0_0x3d2ead["delete"]("should_animate_main");
      _0x146033.pageEl.classList.add("main-screen-enter");
      await _0x146033.mount();
      await _0x2a9ac9;
      await a0_0x3958bc();
      _0x146033.pageEl.classList.add("main-screen-entering");
      await a0_0xedf6c0(200);
      _0x146033.pageEl.classList.remove("main-screen-enter", "main-screen-entering");
    } else {
      await _0x146033.mount();
    }
  }
});